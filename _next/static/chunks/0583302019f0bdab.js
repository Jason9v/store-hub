(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63371,e=>{"use strict";var s=e.i(43476),r=e.i(48148),a=e.i(18566),o=e.i(71645),t=e.i(54616),i=e.i(81307);e.i(14210);var n=e.i(36586);e.i(10750);var d=e.i(38989);e.i(10774);var m=e.i(97383);e.i(93359);var u=e.i(96290),c=e.i(8137);e.i(55381);var l=e.i(88364);e.s(["default",0,()=>{let e=(0,r.useTranslations)("ResetPassword"),p=(0,r.useTranslations)("Register"),w=(0,a.useRouter)(),g=(0,a.useSearchParams)(),f=g.get("token"),h=g.get("email"),v=i.z.object({password:i.z.string().min(8,p("passwordLength")).regex(/[A-Z]/,p("passwordUppercase")).regex(/\d/,p("passwordNumber")).regex(/[^a-zA-Z0-9]/,p("passwordSpecial")),confirmPassword:i.z.string()}),{formData:P,errors:x,handleChange:b,validate:j,setErrors:S}=(0,n.useForm)(v,{password:"",confirmPassword:""}),{password:T,confirmPassword:C}=P,[L,R]=(0,o.useState)({message:"",open:!1,variant:"error"});(0,o.useEffect)(()=>{f&&h||w.push((0,m.withBasePath)("/"))},[f,h,w]);let y=(0,t.useMutation)({mutationFn:({email:e,token:s,password:r})=>(0,d.resetPassword)({email:e,resetCode:s,newPassword:r}),onSuccess:s=>{R({message:e(s),open:!0,variant:"success"}),setTimeout(()=>w.push((0,m.withBasePath)("/")),3e3)},onError:s=>R({message:e(s.message),open:!0,variant:"error"})}),B=async s=>{if(s.preventDefault(),j()){if(T!==C)return void S({...x,confirmPassword:e("passwordMismatch")});if(!f||!h)return void R({message:e("invalidResetLink"),open:!0,variant:"error"});y.mutate({token:f,email:h,password:T})}};return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,s.jsxs)("form",{onSubmit:B,className:"flex flex-col items-center",children:[(0,s.jsx)(u.Input,{label:e("newPassword"),type:"password",value:P.password,onChange:b("password"),required:!0,minLength:6,maxLength:20,error:x.password,className:"mb-4"}),(0,s.jsx)(u.Input,{label:e("confirmPassword"),type:"password",value:P.confirmPassword,onChange:b("confirmPassword"),required:!0,minLength:6,maxLength:20,error:x.confirmPassword}),(0,s.jsx)(l.SubmitButton,{label:e("resetPassword"),className:"mt-8"})]}),(0,s.jsx)(c.Snackbar,{...L,onClose:()=>R(e=>({...e,open:!1}))})]})}])}]);